var n=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var s=(t,e,o)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,a=(t,e)=>{for(var o in e||(e={}))c.call(e,o)&&s(t,o,e[o]);if(m)for(var o of m(e))w.call(e,o)&&s(t,o,e[o]);return t};var A=(t,e)=>{for(var o in e)n(t,o,{get:e[o],enumerable:!0})},C=(t,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h(e))!c.call(t,i)&&i!==o&&n(t,i,{get:()=>e[i],enumerable:!(r=v(e,i))||r.enumerable});return t};var P=t=>C(n({},"__esModule",{value:!0}),t);var S={};A(S,{ViteMinifyPlugin:()=>y,default:()=>R});module.exports=P(S);var p=require("html-minifier-terser"),g=require("path"),d=require("glob"),u=require("fs/promises"),l="vite-plugin-minify";function y(t){let e;return{name:l,enforce:"post",apply:"build",configResolved:o=>{e=o},closeBundle:()=>{(0,d.glob)((0,g.join)(e.build.outDir,"**","*.html"),(o,r)=>{if(o)return console.error(`[${l}]`,o);r.forEach(async i=>{try{let f=await(0,u.readFile)(i,{encoding:"utf-8"}),b=await(0,p.minify)(f.toString(),a({removeComments:!0,collapseWhitespace:!0,collapseBooleanAttributes:!0,removeAttributeQuotes:!1,removeEmptyAttributes:!0,minifyCSS:!0,minifyJS:!0,minifyURLs:!0},t));await(0,u.writeFile)(i,b,"utf-8"),console.log(`[${l}]`,`minified ${i}`)}catch(f){console.error(`[${l}]`,f)}})})}}}var R=y;0&&(module.exports={ViteMinifyPlugin});
//# sourceMappingURL=index.js.map