var n=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var s=(i,e,t)=>e in i?n(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,a=(i,e)=>{for(var t in e||(e={}))c.call(e,t)&&s(i,t,e[t]);if(m)for(var t of m(e))$.call(e,t)&&s(i,t,e[t]);return i};var h=(i,e)=>{for(var t in e)n(i,t,{get:e[t],enumerable:!0})},w=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of v(e))!c.call(i,o)&&o!==t&&n(i,o,{get:()=>e[o],enumerable:!(r=b(e,o))||r.enumerable});return i};var A=i=>w(n({},"__esModule",{value:!0}),i);var P={};h(P,{ViteMinifyPlugin:()=>d,default:()=>C});module.exports=A(P);var p=require("html-minifier-terser"),g=require("glob"),u=require("fs/promises"),l="vite-plugin-minify";function d(i){let e;return{name:l,enforce:"post",apply:"build",configResolved:t=>{e=t},closeBundle:()=>{(0,g.glob)(`${e.build.outDir}/**/*.html`,(t,r)=>{if(t)return console.error(`[${l}]`,t);r.forEach(async o=>{try{let f=await(0,u.readFile)(o,{encoding:"utf-8"}),y=await(0,p.minify)(f.toString(),a({removeComments:!0,collapseWhitespace:!0,collapseBooleanAttributes:!0,removeAttributeQuotes:!1,removeEmptyAttributes:!0,minifyCSS:!0,minifyJS:!0,minifyURLs:!0},i));await(0,u.writeFile)(o,y,"utf-8"),console.log(`[${l}]`,`minified ${o}`)}catch(f){console.error(`[${l}]`,f)}})})}}}var C=d;0&&(module.exports={ViteMinifyPlugin});
//# sourceMappingURL=index.js.map